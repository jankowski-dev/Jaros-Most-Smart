<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ярик.Уроки - Обучающая платформа</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Общие стили */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background: #FBFBFB;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Скрытие страниц */
        .page {
            display: none;
            width: 100%;
            min-height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            overflow: hidden;
        }

        .page.active {
            display: block;
        }

        /* Loader */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000; /* Изменено на 100% черный */
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }

        .loader-logo {
            color: #EE9F21;
            font-size: 60px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 30px;
            animation: pulse 1.5s infinite alternate;
            text-align: center;
        }

        .loader-logo span {
            color: white;
        }

        .loader-spinner {
            width: 80px;
            height: 80px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #EE9F21;
            animation: spin 1s linear infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 0.3;
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Общие компоненты */
        .logo {
            color: #EE9F21;
            font-size: 20px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logo:hover {
            /* Убран горизонтальный сдвиг и масштабирование */
        }

        .logo span {
            color: white;
        }

        .btn {
            background: #EE9F21;
            color: white;
            border: none;
            border-radius: 24px;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            height: 45px;
        }

        .btn:hover {
            background: #FFB347;
            /* Убрано transform: translateY(-2px); и box-shadow */
        }

        .btn-secondary {
            background: #F1F1F1;
            color: #888888;
        }

        .btn-secondary:hover {
            background: #E0E0E0;
        }

        /* Кнопки навигации в чтении */
        .task-nav .btn {
            height: 60px; /* Увеличенная высота */
            padding: 12px 40px; /* Увеличенные отступы */
            font-size: 18px; /* Увеличенный шрифт */
        }

        /* Анимация Material-UI волны */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }

        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Главная страница */
        #home-page {
            background: url('background.jpg') center/cover no-repeat;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1;
        }

        #home-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(181deg, rgba(91.95, 30.64, 22.54, 0.25) 0%, rgba(91.95, 30.64, 22.54, 0.75) 78%), rgba(0, 50, 69, 0.70);
            z-index: 1;
        }

        .home-top {
            padding: 58px 0 0 194px;
            position: relative;
            z-index: 10;
        }

        .home-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 0 100px 194px;
            position: relative;
            z-index: 2;
            color: white;
        }

        .home-title {
            font-size: 42px;
            font-weight: 900;
            text-transform: uppercase;
            line-height: 63px;
            margin-bottom: 20px;
        }

        .home-line {
            width: 116px;
            height: 9px;
            background: #EE9F21;
            border-radius: 24px;
            margin-bottom: 20px;
        }

        .home-description {
            font-size: 20px;
            font-weight: 800;
            line-height: 30px;
            max-width: 487px;
            margin-bottom: 30px;
        }

        .home-controls {
            display: flex;
            gap: 30px;
            align-items: center;
            justify-content: center;
            margin-top: 30px;
            padding: 0 20px;
        }

        .dropdown-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 20px;
            padding: 0 20px;
        }

        .dropdown-label {
            color: #F0F0F0;
            font-size: 16px;
            font-weight: 600;
            white-space: nowrap;
        }

        .dropdown {
            position: relative;
            width: 168px;
        }

        .dropdown-btn {
            width: 100%;
            background: transparent;
            border: 1px solid #F0F0F0;
            border-radius: 24px;
            padding: 12px 20px;
            color: #F0F0F0;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 45px;
        }

        .dropdown-btn:hover {
            border-color: #EE9F21;
            color: #EE9F21;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 0;
            width: 100%;
            background: linear-gradient(181deg, rgba(91.95, 30.64, 22.54, 0.10) 0%, rgba(91.95, 30.64, 22.54, 0.60) 78%), rgba(0, 50, 69, 0.95);
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 100;
            overflow: hidden;
            margin-bottom: 10px;
            border: 1px solid rgba(238, 159, 33, 0.3);
            box-sizing: border-box;
        }

        .dropdown-content.show {
            display: block;
        }

        .dropdown-item {
            padding: 12px 20px;
            color: #F0F0F0;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .dropdown-item:hover {
            background: rgba(238, 159, 33, 0.2);
            color: #EE9F21;
        }

        /* Боковое меню для внутренних страниц */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 798px;
            height: 100vh;
            background: url('background.jpg') center/cover no-repeat;
            padding: 57px 0 0 194px;
            z-index: 100;
            overflow-y: auto;
        }

        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(181deg, rgba(91.95, 30.64, 22.54, 0.25) 0%, rgba(91.95, 30.64, 22.54, 0.75) 78%), rgba(0, 50, 69, 0.70);
            z-index: -1;
        }

        .sidebar-logo {
            margin-bottom: 100px; /* Уменьшено расстояние */
        }

        .sidebar-title {
            font-size: 36px;
            font-weight: 900;
            text-transform: uppercase;
            line-height: 54px;
            color: #F0F0F0;
            margin-bottom: 10px;
        }

        .sidebar-line {
            width: 116px;
            height: 9px;
            background: #EE9F21;
            border-radius: 24px;
            margin-bottom: 30px; /* Уменьшено расстояние */
        }

        .sidebar-level-container {
            display: flex;
            align-items: center;
            margin-bottom: 40px; /* Уменьшено расстояние */
            flex-wrap: nowrap; /* Запрет переноса */
        }

        .sidebar-subtitle {
            font-size: 20px;
            font-weight: 800;
            color: #F0F0F0;
            margin-right: 10px;
            white-space: nowrap;
        }

        .sidebar-level {
            font-size: 20px;
            font-weight: 800;
            color: #EE9F21;
            white-space: nowrap;
        }

        .menu-item {
            display: flex;
            align-items: center;
            color: #F0F0F0;
            font-size: 20px;
            font-weight: 800;
            margin-bottom: 24px; /* Уменьшено расстояние */
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            padding-right: 30px;
            min-height: 40px; /* Уменьшена высота */
        }

        .menu-item:hover {
            color: #EE9F21;
        }

        .menu-item.active {
            background: rgba(217, 217, 217, 0.15);
            padding: 10px 20px;
            border-radius: 24px;
            margin-left: -20px;
            padding-left: 20px;
            color: #F0F0F0;
            width: fit-content;
        }

        .menu-item svg {
            margin-right: 24px;
            transition: transform 0.3s;
        }

        .menu-item.active svg {
            transform: rotate(90deg);
        }

        .submenu {
            margin-left: 50px;
            margin-top: -15px; /* Уменьшено расстояние */
            margin-bottom: 15px; /* Уменьшено расстояние */
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .submenu.show {
            max-height: 200px;
        }

        .submenu-item {
            font-size: 18px; /* Уменьшен размер шрифта */
            font-weight: 400;
            color: #F0F0F0;
            margin-bottom: 15px; /* Уменьшено расстояние */
            cursor: pointer;
            transition: all 0.3s;
            padding-left: 10px;
            position: relative;
        }

        .submenu-item:hover, .submenu-item.active {
            color: #EE9F21;
        }

        .submenu-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: #EE9F21;
            border-radius: 2px;
        }

        /* Контентная область */
        .content-area {
            margin-left: 798px;
            padding: 77px 0 0 176px;
            width: calc(100% - 798px);
            min-height: 100vh;
            position: relative;
            background: #FBFBFB;
            display: flex;
            flex-direction: column;
            align-items: center; /* Центрирование */
        }

        /* Верхняя панель */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 60px;
            padding-right: 176px;
            width: 100%;
            max-width: 1200px;
        }

        .timer {
            display: flex;
            flex-direction: column;
        }

        .timer-label {
            color: #5D5D5D;
            font-size: 18px;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .timer-value {
            color: #EE9F21;
            font-size: 30px;
            font-weight: 800;
        }

        /* Прогресс бар */
        .progress-container {
            width: 788px;
            margin-bottom: 40px; /* Уменьшено расстояние */
        }

        .progress-bar {
            width: 100%;
            height: 9px;
            background: #F1F1F1;
            border-radius: 24px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #EE9F21;
            border-radius: 24px;
            transition: width 0.5s ease;
        }

        /* Область задания */
        .task-area {
            margin-bottom: 30px; /* Уменьшено расстояние */
            display: flex;
            flex-direction: column;
            align-items: center; /* Центрирование */
            width: 100%;
            max-width: 1200px;
        }

        /* Стили для страницы математики */
        .math-problem {
            font-size: 96px;
            font-weight: 800;
            color: #EE9F21;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center; /* Центрирование */
            position: relative;
            min-height: 180px; /* Фиксированная высота */
        }

        .math-problem .number {
            color: #888888;
        }

        .math-problem .operator {
            margin: 0 20px;
        }

        .math-problem .equals {
            margin: 0 30px;
        }

        .math-answer {
            color: #888888;
            min-width: 100px;
            /* Убрано border-bottom: 3px solid #EE9F21; */
            text-align: center;
            font-size: 96px;
            font-weight: 800;
            padding: 0 10px;
            min-height: 120px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        /* Сообщение об окончании заданий */
        .completion-message {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 180px; /* Такая же высота как у math-problem */
        }

        .completion-title {
            font-size: 48px;
            font-weight: 800;
            color: #EE9F21;
            margin-bottom: 20px;
        }

        .completion-grade {
            font-size: 72px;
            font-weight: 900;
            color: #8BBCB2;
            margin-bottom: 30px;
        }

        /* Сообщение об окончании заданий для чтения */
        .reading-completion {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 120px; /* Такая же высота как у word-container */
        }

        .reading-completion-title {
            font-size: 48px;
            font-weight: 800;
            color: #EE9F21;
            margin-bottom: 30px;
        }

        /* Контейнер для иконки перезагрузки и аквалайзера */
        .icon-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: -100px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            z-index: 10;
        }

        /* Иконка перезагрузки */
        .reload-icon {
            display: none;
            width: 80px;
            height: 80px;
            background: #EE9F21;
            border-radius: 50%;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .reload-icon:hover {
            background: #FFB347;
            transform: scale(1.1);
        }

        .reload-icon svg {
            width: 40px;
            height: 40px;
            fill: white;
        }

        .input-label {
            color: #888888;
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 20px;
            text-align: center; /* Центрирование */
        }

        .number-pad {
            display: grid;
            grid-template-columns: repeat(10, 60px);
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center; /* Центрирование */
        }

        .number-key {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #F2F2F2;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            color: #888888;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
            overflow: hidden;
        }

        .number-key:hover {
            background: #E0E0E0;
            /* Убрано transform: translateY(-3px); */
        }

        .number-key.active {
            background: #EE9F21;
            color: white;
        }

        /* Блокировка ввода */
        .number-pad.disabled .number-key {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* Скрываем клавиатуру при завершении математики */
        .number-pad.disabled {
            display: none;
        }

        /* Стили для страницы чтения */
        .word-container {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            justify-content: center;
            position: relative;
            min-height: 120px;
            padding-top: 100px;
        }

        /* Контейнер для слова и аквалайзера */
        .word-audio-container {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            min-height: 120px;
            margin: 20px 0;
        }

        .word {
            font-size: 96px;
            font-weight: 800;
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
            justify-content: center; /* Центрирование */
            flex-shrink: 0; /* Не сжимать */
        }

        .word-letter {
            margin-right: 5px;
            display: inline-block;
            transition: color 0.3s;
        }

        .word-letter.vowel {
            color: #EE9F21;
        }

        .word-letter.consonant {
            color: #888888;
        }

        .syllable-divider {
            /* Изменено на тире */
            color: #EE9F21;
            font-size: 96px;
            font-weight: 800;
            margin: 0 5px;
            line-height: 1;
        }

        /* Анимация аквалайзера */
        .audio-visualizer {
            width: 80px;
            height: 60px;
            display: none;
            justify-content: space-between;
            align-items: center;
            position: absolute;
            left: -90px;
            top: calc(50% - 50px);
            transform: translateY(-50%);
        }

        #readingAudioVisualizer {
            display: none;
        }

        .visualizer-bar {
            width: 6px;
            background: #EE9F21;
            border-radius: 3px;
            animation: visualizer 1.2s infinite ease-in-out;
        }

        .visualizer-bar:nth-child(1) { animation-delay: 0s; height: 20px; }
        .visualizer-bar:nth-child(2) { animation-delay: 0.1s; height: 40px; }
        .visualizer-bar:nth-child(3) { animation-delay: 0.2s; height: 60px; }
        .visualizer-bar:nth-child(4) { animation-delay: 0.3s; height: 40px; }
        .visualizer-bar:nth-child(5) { animation-delay: 0.4s; height: 20px; }
        .visualizer-bar:nth-child(6) { animation-delay: 0.5s; height: 40px; }
        .visualizer-bar:nth-child(7) { animation-delay: 0.6s; height: 60px; }

        @keyframes visualizer {
            0%, 100% { transform: scaleY(0.5); }
            50% { transform: scaleY(1); }
        }

        .word-info {
            text-align: center;
            margin-bottom: 60px;
        }

        .word-info-top {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: nowrap;
            margin-bottom: 20px;
        }

        .word-text {
            color: #888888;
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 0;
        }

        .word-transcription {
            color: #888888;
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 0;
            font-family: 'Montserrat', sans-serif;
        }

        .word-description {
            color: #5D5D5D;
            font-size: 18px;
            font-weight: 300;
            max-width: 286px;
            margin: 0 auto;
        }

        .word-progress {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 60px;
            font-size: 30px;
            font-weight: 800;
        }

        .current-word {
            color: #888888;
        }

        .total-words {
            color: #EE9F21;
        }

        .progress-slash {
            color: #888888;
            font-size: 20px;
            margin: 0 10px;
        }

        /* Фидбэк сообщение */
        .feedback {
            width: 610px;
            height: 74px;
            background: #DEF5F1;
            border-radius: 24px;
            display: none;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px; /* Уменьшен отступ */
            transition: all 0.3s ease;
            opacity: 0;
            animation: feedbackAppear 0.5s ease forwards;
        }

        @keyframes feedbackAppear {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
            
        .feedback.wrong {
            background: #FFEBEE;
        }

        .feedback-text {
            color: #8BBCB2;
            font-size: 24px;
            font-weight: 800;
            text-align: center;
            padding: 10px 20px;
        }

        .feedback.wrong .feedback-text {
            color: #F35C87;
        }

        /* Навигация заданий - скрыта по умолчанию */
        .task-nav {
            display: none;
            gap: 30px;
        }

        .task-nav.show {
            display: flex;
        }

        /* Статистика */
        .stats {
            display: none; /* По умолчанию скрыта */
            gap: 60px;
            justify-content: center; /* Центрирование */
            width: 100%;
            position: absolute;
            bottom: 100px;
            left: 0;
        }

        .stats.show {
            display: flex; /* Показывается только для математики */
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 30px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #5D5D5D;
            font-size: 18px;
            font-weight: 300;
        }

        /* Адаптивность для главной страницы */
        @media (max-height: 800px) {
            .home-content {
                padding-bottom: 50px;
            }
            
            .home-title {
                font-size: 36px;
                line-height: 50px;
                margin-bottom: 15px;
            }
            
            .home-description {
                font-size: 18px;
                line-height: 26px;
                margin-bottom: 30px;
            }
        }

        @media (max-height: 700px) {
            .home-content {
                padding-top: 50px;
                padding-bottom: 30px;
            }
            
            .home-title {
                font-size: 32px;
                line-height: 45px;
            }
            
            .home-description {
                font-size: 16px;
                line-height: 24px;
                margin-bottom: 20px;
            }
            
            .home-controls {
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loader -->
    <div id="loader">
        <div class="loader-logo">Ярик<span>.Уроки</span></div>
        <div class="loader-spinner"></div>
    </div>

    <!-- Главная страница -->
    <div id="home-page" class="page active">
        <div class="home-top">
            <div class="logo" id="mainLogo">Ярик<span>.Уроки</span></div>
        </div>
        <div class="home-content">
            <h1 class="home-title">Привет, Ярослав!</h1>
            <div class="home-line"></div>
            <p class="home-description">Я - твоя личная обучающая платформа. Давай по-занимаемся!</p>
            <div class="home-controls">
                <div class="dropdown-container">
                    <div class="dropdown-label">Выберите уровень</div>
                    <div class="dropdown">
                        <button class="dropdown-btn" id="levelDropdownBtn">
                            Легкий
                            <svg width="15" height="9" viewBox="0 0 15 9" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.6668 8.64216L4.57807e-07 1.72819L1.6664 0L7.5 6.04988L13.3336 0L15 1.72819L8.3332 8.64216C8.1122 8.87128 7.8125 9 7.5 9C7.1875 9 6.8878 8.87128 6.6668 8.64216Z" fill="#F0F0F0"/>
                            </svg>
                        </button>
                        <div class="dropdown-content" id="levelDropdownContent">
                            <div class="dropdown-item" data-level="1">Легкий</div>
                            <div class="dropdown-item" data-level="2">Средний</div>
                            <div class="dropdown-item" data-level="3">Сложный</div>
                        </div>
                    </div>
                </div>
                <button class="btn" id="startLessons">Начать уроки</button>
            </div>
        </div>
    </div>

    <!-- Страница занятий (чтение/математика) -->
    <div id="lessons-page" class="page">
        <!-- Боковое меню -->
        <div class="sidebar">
            <div class="sidebar-logo logo" id="sidebarLogo">Ярик<span>.Уроки</span></div>
            <h2 class="sidebar-title">Занятия</h2>
            <div class="sidebar-line"></div>
            
            <div class="sidebar-level-container">
                <div class="sidebar-subtitle">Уровень сложности:</div>
                <div class="sidebar-level" id="currentLevelDisplay">Легкий</div>
            </div>
            
            <div class="menu-item active" id="menu-math">
                <svg width="15" height="9" viewBox="0 0 15 9" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.6668 8.65075L4.57807e-07 1.72991L1.6664 0L7.5 6.0559L13.3336 0L15 1.72991L8.3332 8.65075C8.1122 8.88011 7.8125 9.00895 7.5 9.00895C7.1875 9.00895 6.8878 8.88011 6.6668 8.65075Z" fill="#F0F0F0"/>
                </svg>
                Математика
            </div>
            
            <!-- Подменю математики -->
            <div class="submenu show" id="math-submenu">
                <div class="submenu-item" data-category="addition">Сложение</div>
                <div class="submenu-item active" data-category="subtraction">Вычитание</div>
                <div class="submenu-item" data-category="multiplication">Умножение</div>
                <div class="submenu-item" data-category="division">Деление</div>
            </div>

            <div class="menu-item" id="menu-reading">
                <svg width="9" height="16" viewBox="0 0 9 16" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.64216 8.34149L1.72819 15.0149L0 13.3469L6.04988 7.50746L0 1.66806L1.72819 0L8.64216 6.67343C8.87128 6.89465 9 7.19465 9 7.50746C9 7.82027 8.87128 8.12027 8.64216 8.34149Z" fill="#F0F0F0"/>
                </svg>
                Чтение
            </div>

            <div class="menu-item" id="menu-writing">
                <svg width="9" height="16" viewBox="0 0 9 16" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.64216 8.34149L1.72819 15.0149L0 13.3469L6.04988 7.50746L0 1.66806L1.72819 0L8.64216 6.67343C8.87128 6.89465 9 7.19465 9 7.50746C9 7.82027 8.87128 8.12027 8.64216 8.34149Z" fill="#F0F0F0"/>
                </svg>
                Письмо
            </div>

            <div class="menu-item" id="menu-puzzles">
                <svg width="9" height="16" viewBox="0 0 9 16" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.64216 8.34149L1.72819 15.0149L0 13.3469L6.04988 7.50746L0 1.66806L1.72819 0L8.64216 6.67343C8.87128 6.89465 9 7.19465 9 7.50746C9 7.82027 8.87128 8.12027 8.64216 8.34149Z" fill="#F0F0F0"/>
                </svg>
                Головоломки
            </div>
        </div>

        <!-- Контентная область -->
        <div class="content-area">
            <!-- Верхняя панель -->
            <div class="top-bar">
                <div class="timer">
                    <div class="timer-label">Таймер</div>
                    <div class="timer-value" id="timer">00:00:00</div>
                </div>
                <button class="btn" id="voiceToggleBtn">Голос: Вкл</button>
            </div>

            <!-- Прогресс бар -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>
            </div>

            <!-- Область задания -->
            <div class="task-area">
                <!-- Контейнер для математического примера и сообщения об окончании -->
                <div class="icon-container" id="iconContainer">
                    <div class="audio-visualizer" id="audioVisualizer">
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                        <div class="visualizer-bar"></div>
                    </div>
                    <div class="reload-icon" id="reloadIcon">
                        <svg viewBox="0 0 24 24">
                            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                        </svg>
                    </div>
                </div>
                
                <!-- Контент для математики -->
                <div id="math-content">
                    <div class="math-problem" id="mathProblem">
                        <span class="number" id="mathNum1">3</span>
                        <span class="operator" id="mathOperator">+</span>
                        <span class="number" id="mathNum2">2</span>
                        <span class="equals">=</span>
                        <span class="math-answer" id="mathAnswer">?</span>
                    </div>
                    
                    <div class="completion-message" id="completionMessage">
                        <div class="completion-title">Твоя оценка</div>
                        <div class="completion-grade" id="finalGrade">10</div>
                        <button class="btn" id="restartMathBtn" style="margin-top: 30px;">Начать заново</button>
                    </div>
                    
                    <div class="input-label">Введи ответ</div>
                    <div class="number-pad" id="numberPad">
                        <div class="number-key" data-value="1">1</div>
                        <div class="number-key" data-value="2">2</div>
                        <div class="number-key" data-value="3">3</div>
                        <div class="number-key" data-value="4">4</div>
                        <div class="number-key" data-value="5">5</div>
                        <div class="number-key" data-value="6">6</div>
                        <div class="number-key" data-value="7">7</div>
                        <div class="number-key" data-value="8">8</div>
                        <div class="number-key" data-value="9">9</div>
                        <div class="number-key" data-value="0">0</div>
                    </div>
                </div>

                <!-- Контент для чтения -->
                <div id="reading-content" style="display: none;">
                    <div class="word-container">
                        <div class="word" id="wordDisplay">
                            <!-- Буквы будут добавлены через JS -->
                        </div>
                    </div>
                    <div class="reading-completion" id="readingCompletion">
                        <div class="reading-completion-title">Задание завершено!</div>
                        <button class="btn" id="restartReadingBtn" style="margin-top: 30px;">Начать заново</button>
                    </div>
                    <div class="word-info" id="wordInfo">
                        <div class="word-info-top">
                            <div class="word-text" id="wordText">Каша</div>
                            <div class="word-transcription" id="wordTranscription">[ˈkaʂə]</div>
                        </div>
                        <div class="word-description" id="wordDescription">вкусная, горячая, молочная, рассыпчатая</div>
                    </div>
                    <div class="word-progress" id="wordProgress">
                        <span class="current-word" id="currentWord">1</span>
                        <span class="progress-slash">/</span>
                        <span class="total-words" id="totalWords">50</span>
                    </div>
                </div>
            </div>

            <!-- Фидбэк сообщение -->
            <div class="feedback" id="feedback">
                <div class="feedback-text" id="feedbackText"></div>
            </div>

            <!-- Навигация заданий (только для чтения) -->
            <div class="task-nav" id="taskNav">
                <button class="btn btn-secondary" id="prevBtn">Назад</button>
                <button class="btn" id="nextBtn">Далее</button>
            </div>

            <!-- Статистика -->
            <div class="stats" id="stats">
                <div class="stat-item">
                    <div class="stat-value" id="solvedCount">0</div>
                    <div class="stat-label">Решено</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="correctCount" style="color: #8BBCB2;">0</div>
                    <div class="stat-label">Правильно</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="wrongCount" style="color: #F35C87;">0</div>
                    <div class="stat-label">Неправильно</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" style="color: #EE9F21;" id="totalCount">0</div>
                    <div class="stat-label">Всего</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Данные из оригинального проекта с фонетической транскрипцией
        const syllablesLevel1 = [
            {word: "КА-ША", transcription: "[ка'ша]"},
            {word: "НЕ-БО", transcription: "[н'э'бо]"},
            {word: "РЫ-БА", transcription: "[ры'ба]"},
            {word: "РУ-КА", transcription: "[ру'ка]"},
            {word: "БЕ-ДА", transcription: "[б'и'да]"},
            {word: "ВО-ДА", transcription: "[во'да]"},
            {word: "ГУ-СИ", transcription: "[гу'с'и]"},
            {word: "ДЕ-ЛО", transcription: "[д'э'ло]"},
            {word: "ЖЕ-ЛЕ", transcription: "[жы'л'э]"},
            {word: "ЗИ-МА", transcription: "[з'и'ма]"},
            {word: "КУ-РЫ", transcription: "[ку'ры]"},
            {word: "ЛЕ-ТО", transcription: "[л'э'то]"},
            {word: "МУ-ХА", transcription: "[му'ха]"},
            {word: "НО-РА", transcription: "[но'ра]"},
            {word: "ПЕ-НА", transcription: "[п'э'на]"},
            {word: "РА-МА", transcription: "[ра'ма]"},
            {word: "СА-ЛО", transcription: "[са'ло]"},
            {word: "ЦЕ-НА", transcription: "[цэ'на]"},
            {word: "ЩУ-КА", transcription: "[щу'ка]"},
            {word: "ЛА-ПА", transcription: "[ла'па]"},
            {word: "КО-ЗА", transcription: "[ко'за]"},
            {word: "ВЕ-СЫ", transcription: "[в'э'сы]"},
            {word: "ГУ-БА", transcription: "[гу'ба]"},
            {word: "МО-РЕ", transcription: "[мо'р'и]"},
            {word: "МА-МА", transcription: "[ма'ма]"},
            {word: "ПА-ПА", transcription: "[па'па]"},
            {word: "ЧУ-ДО", transcription: "[чу'да]"},
            {word: "ПО-ЛЕ", transcription: "[по'л'и]"},
            {word: "ПИ-ЛА", transcription: "[п'и'ла]"},
            {word: "ЛУ-ЖА", transcription: "[лу'жа]"},
            {word: "ЛУ-ЧИ", transcription: "[лу'чи]"},
            {word: "НО-ГИ", transcription: "[но'г'и]"},
            {word: "РЕ-КА", transcription: "[р'и'ка]"},
            {word: "КИ-НО", transcription: "[к'и'но]"},
            {word: "ЗА-РЯ", transcription: "[за'р'я]"},
            {word: "ЖА-РА", transcription: "[жа'ра]"},
            {word: "ГО-РА", transcription: "[го'ра]"},
            {word: "ШУ-БА", transcription: "[шу'ба]"},
            {word: "ША-РЫ", transcription: "[ша'ры]"},
            {word: "ЧА-СЫ", transcription: "[ча'сы]"},
            {word: "БУ-СЫ", transcription: "[бу'сы]"},
            {word: "РО-ЗА", transcription: "[ро'за]"},
            {word: "ЖА-БА", transcription: "[жа'ба]"},
            {word: "ЛЫ-ЖИ", transcription: "[лы'жи]"},
            {word: "БУ-РЯ", transcription: "[бу'р'я]"},
            {word: "СИ-ЛА", transcription: "[с'и'ла]"},
            {word: "ВА-ТА", transcription: "[ва'та]"},
            {word: "ЛИ-СА", transcription: "[л'и'са]"},
            {word: "ВА-ЗА", transcription: "[ва'за]"},
            {word: "СО-ВА", transcription: "[со'ва]"}
        ];

        const syllablesLevel2 = [
            {word: "КОТ", transcription: "[кот]"},
            {word: "ДОМ", transcription: "[дом]"},
            {word: "СОК", transcription: "[сок]"},
            {word: "НОС", transcription: "[нос]"},
            {word: "РОТ", transcription: "[рот]"},
            {word: "МАК", transcription: "[мак]"},
            {word: "РАК", transcription: "[рак]"},
            {word: "БАК", transcription: "[бак]"},
            {word: "ЛАК", transcription: "[лак]"},
            {word: "СЫН", transcription: "[сын]"},
            {word: "ДЕН", transcription: "[д'эн]"},
            {word: "ЛЕС", transcription: "[л'эс]"},
            {word: "ПЁС", transcription: "[п'ёс]"},
            {word: "ВЕС", transcription: "[в'эс]"},
            {word: "МЁД", transcription: "[м'ёд]"},
            {word: "ХЛЕБ", transcription: "[хл'эп]"},
            {word: "ЛЁД", transcription: "[л'ёд]"},
            {word: "ГНОМ", transcription: "[гном]"},
            {word: "СНЕГ", transcription: "[сн'эк]"},
            {word: "СТОЛ", transcription: "[стол]"},
            {word: "СТУЛ", transcription: "[стул]"},
            {word: "МОСТ", transcription: "[мост]"},
            {word: "ЛИСТ", transcription: "[л'ист]"},
            {word: "ЦВЕТ", transcription: "[цв'эт]"},
            {word: "БРАТ", transcription: "[брат]"},
            {word: "СЕСТ", transcription: "[с'эст]"},
            {word: "ДРУГ", transcription: "[друг]"},
            {word: "ВРАГ", transcription: "[враг]"},
            {word: "ШАР", transcription: "[шар]"},
            {word: "МЯЧ", transcription: "[м'яч]"},
            {word: "НОЖ", transcription: "[нож]"},
            {word: "МЕЧ", transcription: "[м'эч]"},
            {word: "ДУБ", transcription: "[дуб]"},
            {word: "ЁЖ", transcription: "[ёж]"},
            {word: "УЖ", transcription: "[уж]"},
            {word: "УХО", transcription: "[у'хо]"},
            {word: "ОКО", transcription: "[о'ко]"},
            {word: "НОГА", transcription: "[но'га]"},
            {word: "РУКА", transcription: "[ру'ка]"},
            {word: "ЩЕКА", transcription: "[щэ'ка]"},
            {word: "ПОЛ", transcription: "[пол]"},
            {word: "ПОТ", transcription: "[пот]"},
            {word: "РОГ", transcription: "[рог]"},
            {word: "РОК", transcription: "[рок]"},
            {word: "ВОЛ", transcription: "[вол]"},
            {word: "ВОЗ", transcription: "[воз]"},
            {word: "ГАЗ", transcription: "[газ]"},
            {word: "ГУБ", transcription: "[гуп]"},
            {word: "ЗУБ", transcription: "[зуп]"},
            {word: "ЛУК", transcription: "[лук]"}
        ];

        const syllablesLevel3 = [
            {word: "КО-РО-ВА", transcription: "[ко'ро'ва]"},
            {word: "МО-ЛО-КО", transcription: "[мо'ло'ко]"},
            {word: "СО-БА-КА", transcription: "[со'ба'ка]"},
            {word: "ЛО-ША-ДЬ", transcription: "[ло'шад']"},
            {word: "КУ-РИ-ЦА", transcription: "[ку'р'и'ца]"},
            {word: "МА-ШИ-НА", transcription: "[ма'шы'на]"},
            {word: "РА-КЕ-ТА", transcription: "[ра'к'э'та]"},
            {word: "СА-МО-ЛЁТ", transcription: "[са'ма'л'ёт]"},
            {word: "ВЕ-ЛО-СИП", transcription: "[в'э'ла'с'ип]"},
            {word: "ТЕ-ЛЕ-ФОН", transcription: "[т'э'л'э'фон]"},
            {word: "О-КЕ-АН", transcription: "[а'к'э'ан]"},
            {word: "Я-ГО-ДА", transcription: "[я'го'да]"},
            {word: "МА-ЛИ-НА", transcription: "[ма'л'и'на]"},
            {word: "ПО-МИ-ДОР", transcription: "[по'м'и'дор]"},
            {word: "О-ГУ-РЕЦ", transcription: "[а'гу'р'эц]"},
            {word: "КА-ПУ-СТА", transcription: "[ка'пу'ста]"},
            {word: "МОР-КОВЬ", transcription: "[мор'коф']"},
            {word: "ПА-НА-МА", transcription: "[па'на'ма]"},
            {word: "ПИ-ДЖАК", transcription: "[п'и'джак]"},
            {word: "СА-ПО-ГИ", transcription: "[са'по'г'и]"},
            {word: "БО-ТИН-КИ", transcription: "[ба'т'ин'к'и]"},
            {word: "ПА-ЛЬ-ТО", transcription: "[па'л'то]"},
            {word: "ША-ПКА", transcription: "[ша'пка]"},
            {word: "ШАР-ФИК", transcription: "[шар'ф'ик]"},
            {word: "ВО-РО-ТА", transcription: "[во'ро'та]"},
            {word: "О-КНО", transcription: "[а'кно]"},
            {word: "ПО-ЛЕ", transcription: "[по'л'и]"},
            {word: "РЕ-КА", transcription: "[р'э'ка]"},
            {word: "МО-РЕ", transcription: "[мо'р'и]"},
            {word: "ГО-РА", transcription: "[го'ра]"}
        ];

        // Реплики для правильных и неправильных ответов
        const correctResponses = [
            "Молодец, Ярик! Правильно!",
            "Отлично, Ярослав! Так держать!",
            "Верно, Ярик! Ты умница!",
            "Правильно, Ярослав! Супер!",
            "Замечательно, Ярик! Ты справился!"
        ];

        const wrongResponses = [
            "Ничего, Ярик, в следующий раз получится!",
            "Не расстраивайся, Ярослав, попробуй ещё раз!",
            "Ошибиться может каждый, Ярик, главное — не сдаваться!",
            "Ну, Ярослав, ничего страшного, подумай ещё!",
            "Попробуй ответить правильно, Ярик!"
        ];

        // Глобальные переменные
        let currentPage = 'home';
        let currentLevel = 1;
        let currentCategory = 'subtraction';
        let voiceEnabled = true;
        let timerInterval;
        let timerSeconds = 0;
        let currentWordIndex = 0;
        let currentMathIndex = 0;
        let correctAnswers = 0;
        let totalAnswers = 0;
        let mathProblems = [];
        let currentWords = [];
        let isCheckingAnswer = false;
        let loaderTimeout;
        let currentUtterance = null;
        let isSpeaking = false;
        let activeMenu = 'math';
        let isSubmenuExpanded = {
            'math': true,
            'reading': false,
            'writing': false,
            'puzzles': false
        };
        let dropdownOpen = false; // Для управления выпадающим меню
        let mathCompleted = false; // Флаг завершения математических заданий
        let readingCompleted = false; // Флаг завершения заданий по чтению

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация таймера
            startTimer();
            
            // Логотип для возврата на главную
            document.getElementById('mainLogo').addEventListener('click', function() {
                showLoaderAndNavigateToHome();
            });
            
            document.getElementById('sidebarLogo').addEventListener('click', function() {
                showLoaderAndNavigateToHome();
            });
            
            // Навигация
            document.getElementById('startLessons').addEventListener('click', function() {
                showLoaderAndNavigateToLessons();
            });
            
            // Выбор уровня на главной - улучшенное управление
            const levelDropdownBtn = document.getElementById('levelDropdownBtn');
            const levelDropdownContent = document.getElementById('levelDropdownContent');
            
            levelDropdownBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                dropdownOpen = !dropdownOpen;
                levelDropdownContent.classList.toggle('show', dropdownOpen);
            });
            
            // Закрытие выпадающего меню при клике вне его
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.dropdown')) {
                    dropdownOpen = false;
                    levelDropdownContent.classList.remove('show');
                }
            });
            
            document.querySelectorAll('.dropdown-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.stopPropagation();
                    currentLevel = parseInt(this.dataset.level);
                    const levelText = this.textContent;
                    levelDropdownBtn.innerHTML = 
                        levelText + 
                        '<svg width="15" height="9" viewBox="0 0 15 9" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.6668 8.64216L4.57807e-07 1.72819L1.6664 0L7.5 6.04988L13.3336 0L15 1.72819L8.3332 8.64216C8.1122 8.87128 7.8125 9 7.5 9C7.1875 9 6.8878 8.87128 6.6668 8.64216Z" fill="#F0F0F0"/></svg>';
                    
                    dropdownOpen = false;
                    levelDropdownContent.classList.remove('show');
                    
                    // Обновляем отображение уровня
                    updateLevelDisplay();
                });
            });
            
            // Навигация в боковом меню с лоадером
            document.getElementById('menu-reading').addEventListener('click', function() {
                if (activeMenu !== 'reading') {
                    showLoaderAndSwitchMenu('reading');
                } else {
                    toggleSubmenu('reading');
                }
            });
            
            document.getElementById('menu-writing').addEventListener('click', function() {
                if (activeMenu !== 'writing') {
                    showLoaderAndSwitchMenu('writing');
                } else {
                    toggleSubmenu('writing');
                }
            });
            
            document.getElementById('menu-puzzles').addEventListener('click', function() {
                if (activeMenu !== 'puzzles') {
                    showLoaderAndSwitchMenu('puzzles');
                } else {
                    toggleSubmenu('puzzles');
                }
            });
            
            document.getElementById('menu-math').addEventListener('click', function() {
                if (activeMenu !== 'math') {
                    showLoaderAndSwitchMenu('math');
                } else {
                    toggleSubmenu('math');
                }
            });
            
            // Подменю математики
            document.querySelectorAll('#math-submenu .submenu-item').forEach(item => {
                item.addEventListener('click', function() {
                    // Сброс таймера и состояния при смене категории
                    resetTimer();
                    mathCompleted = false;
                    
                    document.querySelectorAll('#math-submenu .submenu-item').forEach(i => {
                        i.classList.remove('active');
                    });
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    generateMathProblems();
                    currentMathIndex = 0;
                    correctAnswers = 0;
                    totalAnswers = 0;
                    showMathProblem();
                    updateStats();
                    
                    // Разблокируем клавиатуру
                    document.getElementById('numberPad').classList.remove('disabled');
                });
            });
            
            // Клавиши калькулятора
            document.querySelectorAll('.number-key').forEach(key => {
                key.addEventListener('click', function(e) {
                    // Если задание завершено - не обрабатываем клик
                    if (mathCompleted) return;
                    
                    createRippleEffect(this, e);
                    const value = this.dataset.value;
                    handleNumberInput(value);
                });
            });
            
            // Кнопка голоса
            document.getElementById('voiceToggleBtn').addEventListener('click', function() {
                voiceEnabled = !voiceEnabled;
                this.textContent = voiceEnabled ? 'Голос: Вкл' : 'Голос: Выкл';
                
                if (!voiceEnabled) {
                    this.style.background = '#757575';
                } else {
                    this.style.background = '#EE9F21';
                }
            });
            
            // Кнопки навигации для чтения
            document.getElementById('nextBtn').addEventListener('click', nextWord);
            document.getElementById('prevBtn').addEventListener('click', prevWord);
            
            // Клик на слово для озвучивания
            document.getElementById('wordDisplay').addEventListener('click', function() {
                speakCurrentWord();
            });
            
            // Кнопка перезагрузки
            document.getElementById('reloadIcon').addEventListener('click', function() {
                // Проверяем, какой режим активен
                if (activeMenu === 'math') {
                    resetMathTest();
                } else if (activeMenu === 'reading') {
                    resetReadingTest();
                }
            });
            
            // Кнопка "Начать заново" для математики
            document.getElementById('restartMathBtn').addEventListener('click', function() {
                resetMathTest();
            });
            
            // Кнопка "Начать заново" для чтения
            document.getElementById('restartReadingBtn').addEventListener('click', function() {
                resetReadingTest();
            });
            
            // Генерация начальных данных
            generateMathProblems();
            showMathProblem();
            
            // Обновление статистики
            updateStats();
            
            // Обновляем отображение уровня на главной
            updateLevelDisplay();
        });
        
        // Функция подсчета оценки по 10-балльной шкале
        function calculateGrade(correct, total) {
            if (total === 0) return 0;
            
            const percentage = (correct / total) * 100;
            
            // 10-балльная система
            if (percentage >= 95) return 10;
            if (percentage >= 85) return 9;
            if (percentage >= 75) return 8;
            if (percentage >= 65) return 7;
            if (percentage >= 55) return 6;
            if (percentage >= 45) return 5;
            if (percentage >= 35) return 4;
            if (percentage >= 25) return 3;
            if (percentage >= 15) return 2;
            return 1;
        }
        
        // Функция завершения математического теста
        function completeMathTest() {
            mathCompleted = true;
            
            // Блокируем клавиатуру
            document.getElementById('numberPad').classList.add('disabled');
            
            // Скрываем математический пример
            document.getElementById('mathProblem').style.display = 'none';
            
            // Скрываем подпись "Введи ответ"
            document.querySelector('.input-label').style.display = 'none';
            
            // Показываем сообщение об окончании
            const completionMessage = document.getElementById('completionMessage');
            completionMessage.style.display = 'flex';
            
            // Рассчитываем и показываем оценку
            const grade = calculateGrade(correctAnswers, totalAnswers);
            document.getElementById('finalGrade').textContent = grade;
            
            // Показываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'flex';
            
            // Скрываем фидбэк сообщение если оно было показано
            document.getElementById('feedback').style.display = 'none';
            
            // Прогресс бар на 100%
            document.getElementById('progressFill').style.width = '100%';
        }
        
        // Функция сброса математического теста
        function resetMathTest() {
            mathCompleted = false;
            
            // Разблокируем клавиатуру
            document.getElementById('numberPad').classList.remove('disabled');
            
            // Показываем математический пример
            document.getElementById('mathProblem').style.display = 'flex';
            
            // Показываем подпись "Введи ответ"
            document.querySelector('.input-label').style.display = 'block';
            
            // Скрываем сообщение об окончании
            document.getElementById('completionMessage').style.display = 'none';
            
            // Скрываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'none';
            
            // Сбрасываем статистику
            correctAnswers = 0;
            totalAnswers = 0;
            currentMathIndex = 0;
            
            // Генерируем новые задачи
            generateMathProblems();
            showMathProblem();
            updateStats();
        }
        
        // Функция завершения заданий по чтению
        function completeReadingTest() {
            readingCompleted = true;

            // Блокируем кнопки навигации
            document.getElementById('taskNav').classList.remove('show');

            // Скрываем слово и информацию о слове
            document.getElementById('wordDisplay').style.display = 'none';
            document.getElementById('wordInfo').style.display = 'none';
            document.getElementById('wordProgress').style.display = 'none';

            // Показываем сообщение об окончании
            document.getElementById('readingCompletion').style.display = 'flex';

            // Показываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'flex';

            // Прогресс бар на 100%
            document.getElementById('progressFill').style.width = '100%';

            // Останавливаем таймер
            if (timerInterval) {
                clearInterval(timerInterval);
            }
        }
            
        // Функция сброса заданий по чтению
        function resetReadingTest() {
            readingCompleted = false;

            // Показываем слово и информацию о слове
            document.getElementById('wordDisplay').style.display = 'flex';
            document.getElementById('wordInfo').style.display = 'block';
            document.getElementById('wordProgress').style.display = 'block';

            // Скрываем сообщение об окончании
            document.getElementById('readingCompletion').style.display = 'none';

            // Скрываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'none';

            // Показываем кнопки навигации
            document.getElementById('taskNav').classList.add('show');

            // Сбрасываем индекс
            currentWordIndex = 0;

            // Перезапускаем таймер
            resetTimer();

            // Обновляем контент
            updateReadingContent();
        }
        
        // Функции
        function showLoaderAndNavigateToHome() {
            // Показываем лоадер
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            loader.style.opacity = '0';
            
            // Плавное появление лоадера
            setTimeout(() => {
                loader.style.opacity = '1';
            }, 10);
            
            // Минимальное время показа лоадера - 1.5 секунды
            const minLoaderTime = 1500;
            const startTime = Date.now();
            
            // Функция перехода на главную страницу
            function navigateToHome() {
                // Скрываем страницу уроков
                document.getElementById('lessons-page').style.display = 'none';
                document.getElementById('lessons-page').classList.remove('active');
                
                // Показываем главную страницу
                document.getElementById('home-page').style.display = 'block';
                document.getElementById('home-page').classList.add('active');
                
                // Сброс таймера
                resetTimer();
                
                // Скрываем лоадер с небольшой задержкой для плавности
                setTimeout(() => {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 300);
                }, 300);
            }
            
            // Запускаем таймер на минимум 1.5 секунды
            setTimeout(() => {
                const elapsed = Date.now() - startTime;
                if (elapsed >= minLoaderTime) {
                    navigateToHome();
                } else {
                    // Если прошло меньше 1.5 секунд, ждем оставшееся время
                    setTimeout(navigateToHome, minLoaderTime - elapsed);
                }
            }, minLoaderTime);
        }
        
        function showLoaderAndNavigateToLessons() {
            // Показываем лоадер
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            loader.style.opacity = '0';
            
            // Плавное появление лоадера
            setTimeout(() => {
                loader.style.opacity = '1';
            }, 10);
            
            // Минимальное время показа лоадера - 1.5 секунды
            const minLoaderTime = 1500;
            const startTime = Date.now();
            
            // Функция перехода на страницу уроков
            function navigateToLessons() {
                // Полностью скрываем главную страницу
                document.getElementById('home-page').style.display = 'none';
                document.getElementById('home-page').classList.remove('active');
                
                // Показываем страницу уроков
                document.getElementById('lessons-page').style.display = 'block';
                document.getElementById('lessons-page').classList.add('active');
                
                // Сброс таймера
                resetTimer();
                
                // В зависимости от уровня показываем соответствующий контент
                updateCurrentLevelDisplay();
                if (currentLevel === 4) {
                    setActiveMenu('math');
                    showMathContent();
                } else {
                    setActiveMenu('reading');
                    showReadingContent();
                }
                
                // Скрываем лоадер с небольшой задержкой для плавности
                setTimeout(() => {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 300);
                }, 300);
            }
            
            // Запускаем таймер на минимум 1.5 секунды
            setTimeout(() => {
                const elapsed = Date.now() - startTime;
                if (elapsed >= minLoaderTime) {
                    navigateToLessons();
                } else {
                    // Если прошло меньше 1.5 секунд, ждем оставшееся время
                    setTimeout(navigateToLessons, minLoaderTime - elapsed);
                }
            }, minLoaderTime);
        }
        
        function showLoaderAndSwitchMenu(menuName) {
            // Показываем лоадер
            const loader = document.getElementById('loader');
            loader.style.display = 'flex';
            loader.style.opacity = '0';
            
            // Плавное появление лоадера
            setTimeout(() => {
                loader.style.opacity = '1';
            }, 10);
            
            // Минимальное время показа лоадера - 1 секунда
            const minLoaderTime = 1000;
            const startTime = Date.now();
            
            // Функция переключения меню
            function switchMenu() {
                // Сброс таймера
                resetTimer();
                
                setActiveMenu(menuName);
                if (menuName === 'reading') {
                    showReadingContent();
                } else if (menuName === 'math') {
                    showMathContent();
                }
                
                // Скрываем лоадер
                setTimeout(() => {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 300);
                }, 300);
            }
            
            // Запускаем таймер
            setTimeout(() => {
                const elapsed = Date.now() - startTime;
                if (elapsed >= minLoaderTime) {
                    switchMenu();
                } else {
                    setTimeout(switchMenu, minLoaderTime - elapsed);
                }
            }, minLoaderTime);
        }
        
        function setActiveMenu(menuName) {
            // Закрываем все подменю
            document.querySelectorAll('.submenu').forEach(submenu => {
                submenu.classList.remove('show');
            });
            
            // Сбрасываем активные пункты меню
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Устанавливаем новый активный пункт
            activeMenu = menuName;
            
            if (menuName === 'reading') {
                document.getElementById('menu-reading').classList.add('active');
                // Раскрываем подменю если оно было раскрыто ранее
                if (isSubmenuExpanded.reading) {
                    // У чтения нет подменю, но если будет - добавить здесь
                }
            } else if (menuName === 'math') {
                document.getElementById('menu-math').classList.add('active');
                document.getElementById('math-submenu').classList.add('show');
            }
        }
        
        function toggleSubmenu(menuName) {
            const submenu = document.getElementById(menuName + '-submenu');
            if (submenu) {
                isSubmenuExpanded[menuName] = !isSubmenuExpanded[menuName];
                if (isSubmenuExpanded[menuName]) {
                    submenu.classList.add('show');
                } else {
                    submenu.classList.remove('show');
                }
            }
        }
        
        function showReadingContent() {
            document.getElementById('math-content').style.display = 'none';
            document.getElementById('reading-content').style.display = 'block';
            document.getElementById('feedback').style.display = 'none'; // Скрываем фидбэк
            document.getElementById('stats').classList.remove('show'); // Скрываем статистику
            
            // Сбрасываем флаг завершения
            readingCompleted = false;

            // Скрываем сообщение об окончании и навигацию
            document.getElementById('readingCompletion').style.display = 'none';
            document.getElementById('taskNav').classList.remove('show');
            
            // Скрываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'none';
            
            // Показываем слово и информацию о слове
            document.getElementById('wordDisplay').style.display = 'flex';
            document.getElementById('wordInfo').style.display = 'block';
            document.getElementById('wordProgress').style.display = 'block';
            
            // Сбрасываем прогресс бар
            document.getElementById('progressFill').style.width = '0%';
            
            // Загружаем слова в зависимости от уровня
            if (currentLevel === 1) {
                currentWords = [...syllablesLevel1];
            } else if (currentLevel === 2) {
                currentWords = [...syllablesLevel2];
            } else if (currentLevel === 3) {
                currentWords = [...syllablesLevel3];
            } else {
                // Для уровня 4 (математика) показываем математику
                setActiveMenu('math');
                showMathContent();
                return;
            }
            
            currentWordIndex = 0;
            updateReadingContent();
        }
        
        function showMathContent() {
            document.getElementById('math-content').style.display = 'block';
            document.getElementById('reading-content').style.display = 'none';
            document.getElementById('taskNav').classList.remove('show'); // Скрываем кнопки навигации
            document.getElementById('feedback').style.display = 'none'; // Скрываем фидбэк
            document.getElementById('stats').classList.add('show'); // Показываем статистику
            
            // Сбрасываем флаг завершения
            mathCompleted = false;
            
            // Скрываем иконку перезагрузки
            document.getElementById('reloadIcon').style.display = 'none';
            
            // Сбрасываем состояние
            document.getElementById('numberPad').classList.remove('disabled');
            document.getElementById('mathProblem').style.display = 'flex';
            document.getElementById('completionMessage').style.display = 'none';
            document.querySelector('.input-label').style.display = 'block';
            
            showMathProblem();
        }
        
        function showMathProblem() {
            if (mathCompleted) {
                completeMathTest();
                return;
            }
            
            if (mathProblems.length === 0 || currentMathIndex >= mathProblems.length) {
                completeMathTest();
                return;
            }
            
            const problem = mathProblems[currentMathIndex];
            
            document.getElementById('mathNum1').textContent = problem.num1;
            document.getElementById('mathNum2').textContent = problem.num2;
            document.getElementById('mathOperator').textContent = problem.operator;
            document.getElementById('mathAnswer').textContent = '?';
            document.getElementById('mathAnswer').style.color = '#888888';
            
            // Прогресс бар
            const progress = ((currentMathIndex + 1) / mathProblems.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // Показываем математический пример и скрываем сообщение об окончании
            document.getElementById('mathProblem').style.display = 'flex';
            document.getElementById('completionMessage').style.display = 'none';
            
            // Показываем подпись "Введи ответ"
            document.querySelector('.input-label').style.display = 'block';
            
            // Разблокируем клавиатуру
            document.getElementById('numberPad').classList.remove('disabled');
        }
        
        function updateReadingContent() {
            // Если чтение завершено, не обновляем
            if (readingCompleted) return;

            if (currentWords.length === 0 || currentWordIndex >= currentWords.length) {
                return;
            }
            
            const wordData = currentWords[currentWordIndex];
            const wordDisplay = document.getElementById('wordDisplay');
            wordDisplay.innerHTML = '';
            
            // Скрываем аквалайзер при обновлении слова
            const visualizer = document.getElementById('audioVisualizer');
            visualizer.style.display = 'none';
            
            // Разбиваем слово на слоги
            const syllables = wordData.word.split('-');
            
            syllables.forEach((syllable, syllableIndex) => {
                // Добавляем разделитель между слогами (кроме первого)
                if (syllableIndex > 0) {
                    const divider = document.createElement('span');
                    divider.className = 'syllable-divider';
                    divider.textContent = '-';
                    wordDisplay.appendChild(divider);
                }
                
                // Добавляем буквы
                for (let char of syllable) {
                    const span = document.createElement('span');
                    span.className = 'word-letter';
                    span.textContent = char;
                    
                    // Определяем гласные
                    const vowels = 'АЕЁИОУЫЭЮЯ';
                    if (vowels.includes(char.toUpperCase())) {
                        span.classList.add('vowel');
                    } else {
                        span.classList.add('consonant');
                    }
                    
                    wordDisplay.appendChild(span);
                }
            });
            
            // Обновляем информацию о слове
            document.getElementById('wordText').textContent = wordData.word.replace(/-/g, '');
            document.getElementById('wordTranscription').textContent = wordData.transcription;
            document.getElementById('wordDescription').textContent = generateDescription(wordData.word);
            
            // Обновляем счетчик
            document.getElementById('currentWord').textContent = currentWordIndex + 1;
            document.getElementById('totalWords').textContent = currentWords.length;
            
            // Прогресс бар
            const progress = ((currentWordIndex + 1) / currentWords.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // Показываем кнопки навигации
            document.getElementById('taskNav').classList.add('show');

            // Убрано автоматическое озвучивание слова
        }
        
        function speakCurrentWord() {
            if (currentWords.length === 0 || currentWordIndex >= currentWords.length || !voiceEnabled) return;
            
            const wordData = currentWords[currentWordIndex];
            const word = wordData.word.replace(/-/g, '');
            
            // Останавливаем предыдущее озвучивание
            if (currentUtterance && isSpeaking) {
                window.speechSynthesis.cancel();
                isSpeaking = false;
                hideVisualizer();
            }
            
            // Показываем визуализатор слева от слова
            const visualizer = document.getElementById('audioVisualizer');
            const wordContainer = document.querySelector('.word-container');
            
            // Скрываем аквалайзер перед показом
            visualizer.style.display = 'none';
            
            // Перемещаем аквалайзер в контейнер слова для правильного позиционирования
            if (wordContainer) {
                wordContainer.insertBefore(visualizer, wordContainer.firstChild);
            }
            
            // Позиционируем аквалайзер слева от слова
            visualizer.style.position = 'absolute';
            visualizer.style.left = '-90px';
            visualizer.style.top = '50%';
            visualizer.style.transform = 'translateY(-50%)';
            visualizer.style.display = 'flex';
            
            if (window.speechSynthesis) {
                currentUtterance = new SpeechSynthesisUtterance(word);
                currentUtterance.lang = 'ru-RU';
                currentUtterance.rate = 0.8;
                currentUtterance.pitch = 1.1;
                
                currentUtterance.onstart = function() {
                    isSpeaking = true;
                };
                
                currentUtterance.onend = function() {
                    isSpeaking = false;
                    visualizer.style.display = 'none';
                };
                
                currentUtterance.onerror = function() {
                    isSpeaking = false;
                    visualizer.style.display = 'none';
                };
                
                window.speechSynthesis.speak(currentUtterance);
            }
        }
        
        function hideVisualizer() {
            const visualizer = document.getElementById('audioVisualizer');
            if (visualizer) {
                visualizer.style.display = 'none';
            }
        }
        
        function generateDescription(word) {
            // Простые описания для демонстрации
            const descriptions = {
                'КАША': 'вкусная, горячая, молочная, рассыпчатая',
                'НЕБО': 'голубое, высокое, облачное, ясное',
                'РЫБА': 'речная, морская, золотая, живая',
                'РУКА': 'сильная, теплая, правая, левая',
                'ВОДА': 'чистая, холодная, питьевая, прозрачная',
                'МАМА': 'любимая, добрая, заботливая, родная',
                'ПАПА': 'сильный, добрый, умный, любимый',
                'КОТ': 'пушистый, мягкий, домашний, игривый',
                'ДОМ': 'уютный, теплый, родной, большой',
                'ЛЕС': 'густой, зеленый, хвойный, дремучий',
                'ПЕНА': 'белая, воздушная, мягкая, пушистая',
                'СОБАКА': 'верный, дружелюбный, умный, домашний',
                'МАШИНА': 'быстрая, современная, удобная, личная',
                'ЯГОДА': 'сладкая, спелая, сочная, лесная',
                'МОРЕ': 'глубокое, синее, теплое, соленое'
            };
            
            const key = word.replace(/-/g, '').toUpperCase();
            return descriptions[key] || 'интересное, новое, полезное слово';
        }
        
        function generateMathProblems() {
            mathProblems = [];
            let count = 10;
            
            if (currentCategory === 'addition') {
                for (let i = 0; i < count; i++) {
                    let a = Math.floor(Math.random() * 10) + 1;
                    let b = Math.floor(Math.random() * 10) + 1;
                    let answer = a + b;
                    
                    mathProblems.push({
                        num1: a,
                        num2: b,
                        operator: '+',
                        answer: answer
                    });
                }
            } else if (currentCategory === 'subtraction') {
                for (let i = 0; i < count; i++) {
                    let a = Math.floor(Math.random() * 10) + 1;
                    let b = Math.floor(Math.random() * 10) + 1;
                    
                    // Убедимся, что результат положительный
                    if (a < b) {
                        [a, b] = [b, a];
                    }
                    
                    mathProblems.push({
                        num1: a,
                        num2: b,
                        operator: '-',
                        answer: a - b
                    });
                }
            }
            
            // Перемешиваем
            for (let i = mathProblems.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [mathProblems[i], mathProblems[j]] = [mathProblems[j], mathProblems[i]];
            }
            
            currentMathIndex = 0;
        }
        
        function handleNumberInput(value) {
            if (isCheckingAnswer || mathCompleted) return;
            
            const answerElement = document.getElementById('mathAnswer');
            
            if (answerElement.textContent === '?' || answerElement.textContent === '✓') {
                answerElement.textContent = value;
            } else if (answerElement.textContent.length < 3) { // Разрешаем до 3 цифр
                answerElement.textContent += value;
            }
            
            // Автоматическая проверка через 2 секунды (увеличено с 1 до 2 секунд)
            clearTimeout(window.checkTimeout);
            window.checkTimeout = setTimeout(checkMathAnswer, 2000);
        }
        
        function checkMathAnswer() {
            if (isCheckingAnswer || mathCompleted) return;
            
            const answerElement = document.getElementById('mathAnswer');
            const userAnswer = parseInt(answerElement.textContent);
            const problem = mathProblems[currentMathIndex];
            
            if (isNaN(userAnswer) || answerElement.textContent === '?' || answerElement.textContent === '✓') {
                return;
            }

            isCheckingAnswer = true;
            totalAnswers++;
            
            if (userAnswer === problem.answer) {
                // Правильный ответ
                correctAnswers++;
                answerElement.style.color = '#8BBCB2';
                
                // Случайная похвала
                const randomResponse = correctResponses[Math.floor(Math.random() * correctResponses.length)];
                showFeedback(randomResponse, false);
                
                // Озвучивание
                if (voiceEnabled && window.speechSynthesis) {
                    const utterance = new SpeechSynthesisUtterance(randomResponse);
                    utterance.lang = 'ru-RU';
                    utterance.rate = 0.9;
                    utterance.pitch = 1.1;
                    window.speechSynthesis.speak(utterance);
                }
                
                // Переход к следующей задаче через 1.5 секунды
                setTimeout(() => {
                    currentMathIndex++;
                    isCheckingAnswer = false;
                    
                    if (currentMathIndex >= mathProblems.length) {
                        completeMathTest();
                    } else {
                        showMathProblem();
                    }
                    
                    updateStats();
                }, 1500);
            } else {
                // Неправильный ответ
                answerElement.style.color = '#F35C87';
                
                // Случайное ободрение
                const randomResponse = wrongResponses[Math.floor(Math.random() * wrongResponses.length)];
                showFeedback(randomResponse, true);
                
                // Озвучивание
                if (voiceEnabled && window.speechSynthesis) {
                    const utterance = new SpeechSynthesisUtterance(randomResponse);
                    utterance.lang = 'ru-RU';
                    utterance.rate = 0.9;
                    utterance.pitch = 1.1;
                    window.speechSynthesis.speak(utterance);
                }
                
                // Очистка ответа через 1.5 секунды и переход к следующей задаче
                setTimeout(() => {
                    answerElement.textContent = '?';
                    answerElement.style.color = '#888888';
                    currentMathIndex++;
                    isCheckingAnswer = false;
                    
                    if (currentMathIndex >= mathProblems.length) {
                        completeMathTest();
                    } else {
                        showMathProblem();
                    }
                    
                    updateStats();
                }, 1500);
            }
        }
        
        function showFeedback(text, isWrong) {
            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedbackText');
            
            feedbackText.textContent = text;
            feedback.classList.toggle('wrong', isWrong);
            feedback.style.display = 'flex';
        }
        
        function nextWord() {
            if (currentWords.length === 0 || readingCompleted) return;

            // Проверяем, достигнут ли конец списка
            if (currentWordIndex >= currentWords.length - 1) {
                completeReadingTest();
                return;
            }

            currentWordIndex++;
            updateReadingContent();
        }
        
        function prevWord() {
            if (currentWords.length === 0 || readingCompleted) return;

            currentWordIndex = (currentWordIndex - 1 + currentWords.length) % currentWords.length;
            updateReadingContent();
        }
        
        function startTimer() {
            // Очищаем предыдущий интервал
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Обновляем каждую секунду
            timerInterval = setInterval(() => {
                timerSeconds++;
                
                const hours = Math.floor(timerSeconds / 3600);
                const minutes = Math.floor((timerSeconds % 3600) / 60);
                const seconds = timerSeconds % 60;
                
                document.getElementById('timer').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        function resetTimer() {
            timerSeconds = 0;
            document.getElementById('timer').textContent = '00:00:00';
            startTimer(); // Перезапускаем таймер
        }
        
        function updateStats() {
            const totalProblems = mathProblems.length;
            const wrongAnswers = totalAnswers - correctAnswers;
            
            document.getElementById('solvedCount').textContent = totalAnswers;
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('totalCount').textContent = totalProblems;
        }
        
        function updateLevelDisplay() {
            // Обновляем текст в выпадающем списке
            const levelNames = ['', 'Легкий', 'Средний', 'Сложный', 'Математика'];
            const levelText = levelNames[currentLevel] || 'Легкий';
            
            // Обновляем боковое меню на странице занятий
            if (document.getElementById('currentLevelDisplay')) {
                document.getElementById('currentLevelDisplay').textContent = levelText;
            }
        }
        
        function updateCurrentLevelDisplay() {
            const levelNames = ['', 'Легкий', 'Средний', 'Сложный', 'Математика'];
            document.getElementById('currentLevelDisplay').textContent = levelNames[currentLevel] || 'Легкий';
        }
        
        // Material-UI ripple effect
        function createRippleEffect(element, event) {
            const ripple = document.createElement('span');
            const rect = element.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            
            // Позиционируем от места клика
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');
            
            // Убедимся, что элемент имеет position: relative для корректного позиционирования ripple
            const computedStyle = window.getComputedStyle(element);
            if (computedStyle.position === 'static') {
                element.style.position = 'relative';
                element.style.overflow = 'hidden';
            }
            
            element.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
        
        // Добавляем ripple эффект на все кнопки
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>

            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
        
        // Добавляем ripple эффект на все кнопки
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>


            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
        
        // Добавляем ripple эффект на все кнопки
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>

            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
        
        // Добавляем ripple эффект на все кнопки
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                createRippleEffect(btn, e);
            }
            
            if (e.target.classList.contains('number-key')) {
                createRippleEffect(e.target, e);
            }
            
            if (e.target.classList.contains('dropdown-item') || e.target.closest('.dropdown-item')) {
                const item = e.target.classList.contains('dropdown-item') ? e.target : e.target.closest('.dropdown-item');
                createRippleEffect(item, e);
            }
        });
    </script>
</body>
</html>            }
        });
    </script>
</body>
</html>



